- name: "ğŸ“ Ensure journald drop-in directory exists"
  tags: [journald, systemd]
  ansible.builtin.file:
    path: /etc/systemd/journald.conf.d
    state: directory
    mode: "0755"

- name: "âš™ï¸ Configure journald settings"
  tags: [journald, systemd]
  community.general.ini_file:
    path: /etc/systemd/journald.conf.d/{{ common_journald_drop_in }}
    section: Journal
    option: "{{ item.option }}"
    value: "{{ item.value }}"
    mode: "0644"
    backup: false
  loop: "{{ common_journald_config }}"
  notify:
    - restart journald

- name: "ğŸ”„ Apply journald changes"
  tags: [journald]
  ansible.builtin.meta: flush_handlers
